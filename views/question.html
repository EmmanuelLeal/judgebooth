<ion-view>
  <ion-content>
    <div class="cards row">
      <div class="col" ng-repeat="card in question.cards">
        <h4>{{::card.name}}</h4>
        <div class="card-container" ng-class="{'show-scan':card.scan}" ng-click="card.scan = !card.scan">
          <img ng-src="{{::card.src}}"
            ng-load="card.scan = true" class="scan">
          <div class="oracle">
            <span class="title">
              <span class="right" ng-bind-html="card.manacost"></span>
              <b>{{::card.name_en}}</b>
            </span>
            <b class="type">{{::card.type}}</b>
            <span class="ability" ng-bind-html="card.text"></span>
            <b class="right bottom" ng-if="card.toughness || card.power">{{::card.power}} / {{::card.toughness}}</b>
            <b class="right bottom" ng-if="card.loyalty">{{::card.loyalty}}</b>
          </div>
        </div>
      </div>
    </div>
    <!-- text -->
    <div class="card">
      <div class="item item-divider text-center">
        <b>Question {{::question.metadata.id}}</b>
        <i class="icon ion-android-star"></i>
        <i class="icon" ng-class="{'ion-android-star':question.metadata.difficulty>=1}"></i>
        <i class="icon" ng-class="{'ion-android-star':question.metadata.difficulty>=2}"></i>
        <span ng-show="question.metadata.author">by {{::question.metadata.author}}</span>
      </div>
      <div class="question item item-text-wrap" ng-bind-html="question.question"></div>
      <div ng-show="answer" class="answer positive item item-text-wrap" ng-bind-html="question.answer"></div>
      <div class="item tabs item-divider text-center">
        <button class="button icon-left" ng-click="toggleAnswer()"
                ng-class="{'button-positive ion-checkmark-circled':!answer, 'button-dark ion-close-circled':answer}">
          <span ng-hide="answer">Show Answer</span>
          <span ng-show="answer">Hide Answer</span>
        </button>
      </div>
    </div>
  </ion-content>
</ion-view>